
#   Тестовое задание

1. Создать веб-приложение, с API интерфейсом и админ-панелью.
2. Создать базу данных используя миграции Django.

# Технические требования:
* Python 3.8+
* Django 3+
* DRF 3.10+
* PostgreSQL 10+

# Требования к реализации:

**1.** Необходимо реализовать модель сети по продаже электроники.
Сеть должна представлять собой иерархическую структуру из 3 уровней:

* Завод;
* Розничная сеть;
* Индивидуальный предприниматель.

Каждое звено сети ссылается только на одного поставщика оборудования 
(не обязательно предыдущего по иерархии). Важно отметить, что уровень иерархии 
определяется не названием звена, а отношением к остальным элементам сети, 
т.е. завод всегда находится на 0 уровне, а если розничная сеть относится напрямую к заводу, 
минуя остальные звенья - её уровень - 1.

**2.** Сделать вывод в админ-панели созданных объектов.

**3.** На странице объекта сети добавить:
* ссылку на «Поставщика»;
* фильтр по названию города;
* «admin action», очищающий задолженность перед поставщиком у выбранных объектов.

**4.** Используя DRF, создать набор представлений:
* CRUD для модели поставщика (запретить обновление через API поля «Задолженность перед поставщиком»);
* Добавить возможность фильтрации объектов по определенной стране.
* Настроить права доступа к API так, чтобы только активные сотрудники имели доступ к API.

## Установка и запуск проекта:

1. клонировать репозиторий: `git clone https://github.com/morusgit/certification` 
2. установить виртуальную среду: `python -m venv .venv` (linux: `sudo apt install python3.10-venv` и 
   `python3 -m venv .venv`)
3. активировать виртуальную среду(Windows): `.venv\Scripts\Activate.ps1`
4. активировать виртуальную среду(Linux): `source .venv/bin/activate`
5. установить зависимости: `pip install -r requirements.txt`
6. используйте `.env.example` как образец для создания `.env` , чтобы настроить переменные окружения
7. установить PostgreSQL: `sudo apt-get install postgresql postgresql-contrib` и `sudo systemctl start postgresql`
8. создать базу данных: `sudo -u postgres psql -c "CREATE DATABASE POSTGRES;"`
9. выполнить миграцию: `python manage.py makemigrations && python manage.py migrate`
10. запустить проект: `python manage.py runserver`

**5.** Загрузить тестовые данные командой: python manage.py loaddata data.json

**6.** Получить токен для авторизации  --http://localhost:8000/users/token/
Согласно заданию, вход разрешен только активным сотрудника, поэтому для входа, необходимо либо 
создать пользователя в БД, либо воспользоваться загруженными данными: логин - admin, пароль - maria

**7.** В файле supplier.api.http написаны для модели "Поставщики" CRUD запросы.


